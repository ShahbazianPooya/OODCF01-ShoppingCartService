## **هدف نوشتن سرویسی برای مدیریت سبد خرید مشتریان در یک فروشگاه آنلاین است.**

این سرویس یکی از سرویسهای موجود در مجموعه سرویسهای یک سیستم فروش آنلاین است که بر مبنای الگوی معماری مایکروسرویس ساخته شده اند.

هر سبد متعلق به یک مشتری بوده، مشتری کالاهایی که قصد خرید آنها را دارد را به آن اضافه کرده، آدرس محل تحویل گیری سفارش را وارد کرده و با ورود اطلاعات کارت بانکی عملیات خرید را نهایی می کند.

انتظار می رود  سبد خرید بتواند به کار بر گزینه های اضافه ای را به سفارش خود اضافه کند، مانند:

1.  ارسال سریع، پس از ورود آدرس تحویل هزینه ارسال سفارشی با فراخوانی سرویسهایی از شرکتهای حمل ونقل دریافت شده و به عنوان اطلاعات نحوه ارسال به سبد خرید افزوده می شود.
2.  افزودن بسته بندی ویژه هدیه، کاربر می تواند از میان نحوه بسته بندی ها یک بسته بندی را انتخاب و آن را به سفارش خود اضافه کند، هزینه این بسته بندی به سفارش کاربر افزوده می شود.

انتظار می رود بتوان استراتژی های تخفیف فروشگاه را نیز بر روی سبد خرید اعمال کرد شامل:

1.  اعمال کد تخفیف توسط مشتری، مشتری در زمان نهایی کردن سفارش باید بتواند یک کد تخفیف را به سفارش خود اعمال کند که منجر به کاهش مبلغ مشخص( درصدی از کل ارزش سبد خرید، یا مبلغی ثابت) را از جمع نهایی سبد خرید کسر می کند.
2.  فروشگاه می تواند برای ترکیب مشخصی از کالا ها یک تخفیف در نظر بگیرید، برای مثال اگر محصول شماره 1 و محصول شماره 2 به صورت همزمان در سبد قرار بگیرند آنگاه مبلغ مشخصی تخفیف به کاربر تعلق می گیرد.

در معماری مرجع این سامانه، برای ارتباط بین سرویس ها از ابزار کافکا استفاده شده است. سرویسها به صورت Sync و با ارائه REST API در دسترس قرار می گیرند.

بانک اطلاعاتی مورد استفاده در این سامانه به ازای هر سرویس متفاوت است و سرویس کارت از بانک اطلاعات DynamoDB  استفاده می کند.

*   لازم نیست پیاده سازی لایه دیتا وذخیره سازی داده ها در بانک اطلاعاتی واقعا پیاده سازی شوند، وجود متدهایی که بدنه آنها خالی است برای لایه دیتا کافی است.
*   دریافت رخدادها و ارسال آنها از کافکا لازم نیست پیاده سازی شوند، بلکه وجود متدهایی با بدنه خالی که رفتار را شبیه سازی می کنند کفایت می کنند.
